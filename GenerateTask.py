#Generatorを3つのコードで用いるため処理を徐々にこちらに移動予定
